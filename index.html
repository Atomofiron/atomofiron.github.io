<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
	<title>Ярослав Нестеров - Android Разработчик</title>

<link rel="stylesheet" type="text/css" href="css/main.css">

</head>

<body onscroll="onBodyScroll()">
<script type="text/javascript" src=js/mc.js></script>
<noscript><div><img src=https://mc.yandex.ru/watch/42408679 style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<div class=parallax>
	<div class=parallax__group>
		<div class="parallax__layer parallax__layer--back" id=back><div id=bug>&nbsp;не баг, а фича&nbsp;</div></div>
		<div class="parallax__layer parallax__layer--front" id=front></div>
		<div class="parallax__layer parallax__layer--base" id=base>
			<div id=box>
				<div id=head_title class=inline>
					<font class=unhoverable id=name>Ярослав Нестеров<br><br></font>
					<font class=unhoverable id=dignity onmouseover="showAgent()" onmouseout="hideAgent()">Android Разработчик</font>
				</div>
				<img id=ava class=inline src=ava.jpg />

				<!--  --><br>
				<img class=icon_big width="128px" src=svg/android_colored.svg />
				<img class=icon_big width="128px" src=svg/java_colored.svg />
				<img class=icon_big width="128px" src=svg/js_colored.svg />
				<img class=icon_big width="128px" src=svg/python_colored.svg />
				<img class=icon_big width="128px" src=svg/bash_colored.svg />
				<br>
				<img class=icon_big width="128px" src=svg/cpp_colored.svg />
				<img class=icon_big width="128px" src=svg/linux_colored.svg />
				<img class=icon_big width="128px" src=svg/git_colored.svg />
				<img class=icon_big width="128px" src=svg/html_colored.svg />
				<img class=icon_big width="128px" src=svg/css_colored.svg />

				<!--  --><br>
				<a target=_blank href=https://ru.linkedin.com/in/raslav>
					<img class=icon_link id=lin src=svg/linkedin-box.svg /></a>
				<a target=_blank href=https://rostov.hh.ru/resume/5a21394aff02f385b80039ed1f3447686a5067>
					<img class=icon_link id=hh src=png/hh.png /></a>
				<a target=_blank href=https://github.com/Atomofiron>
					<img class=icon_link id=git src=svg/github-circle.svg /></a>
				<!--<a target=_blank href=https://play.google.com/store/apps/developer?id=Ярослав+Нестеров>
					<img class=icon_link id=play src=svg/google-play.svg /></a>-->
				<a target=_blank href=https://twitter.com/atomofiron>
					<img class=icon_link id=twitter src=svg/twitter.svg /></a>
				<a target="_blank" href=https://t.me/atomofiron>
					<img class=icon_link id=telegram src=svg/telegram.svg onmouseover="showNickname(0)" onmouseout="hideNickname()" /></a>
				<a target=_blank href=https://vk.com/ra.slav>
					<img class=icon_link id=vk src=svg/vk-circle.svg onmouseover="showNickname(1)" onmouseout="hideNickname()" /></a>
				<img class=icon_link id=skype src=svg/skype.svg onmouseover="showNickname(2)" onmouseout="hideNickname()" onclick="copyNick(2)" style="display:none;" />
				<img class=icon_link id=email src=svg/email.svg onmouseover="showNickname(3)" onmouseout="hideNickname()" onclick="copyNick(3)" />
				<div id=slider><div id=nick><center>atomofiron</center></div></div>
			</div>
		</div>
	</div>
</div>
<center><font class=unhoverable size="3">&copy; Нестеров Я. В., оформление сайта, 2017</font></center>

<script type="text/javascript">
var px = "px"
var inh = "in"
var clog = console.log

function create(tag) {
	return document.createElement(tag)
}
function get(id) {
	return document.getElementById(id)
}
function gets(cls) {
	return document.getElementsByClassName(cls)
}
function append(obj, string) {
	obj.insertAdjacentHTML("beforeend", string)
}
function getPX(value) {
	return (value.replace(px, ""))*1
}

var backLayer = get("back")
var frontLayer = get("front")
var nick = get("nick")
var steps = 10
var brightness = 50.0
var richness = 100

if (screen.height > screen.width)
	get("base").style.height = "70vh"

// Отрисовка зелёных листов
for (var i = 0; i < 6; i++) {
	var layer = create("div")
	layer.className = "layer"
	var k = i / steps
	var color = Math.round(brightness * k)
	var r = color
	var g = color + richness
	var b = color
	layer.style.backgroundColor = "rgb("+r+","+g+","+b+")"
	layer.style.transform = "rotate("+(360*k-36)+"deg)";
	backLayer.appendChild(layer)
	if (i == 1)
		layer.id = "buttons_layer"
}

// Отрисовка синих листов
for (var i = 0; i < 3; i++) {
	var layer_secondary = create("div")
	layer_secondary.className = "layer_secondary"
	var k = i/steps
	var color = Math.round(brightness * k)
	var r = color
	var g = color
	var b = color + richness
	layer_secondary.style.backgroundColor = "rgb("+r+","+g+","+b+")"
	layer_secondary.style.transform = "rotate("+(360*k+36)+"deg)"
	frontLayer.appendChild(layer_secondary)
}

// Отрисовка кнопок
var icons = ["android", "linux", "ubuntu", "js" ]
var box = create("div")
box.id = "top_buttons_box"
for (var i = 0; i < 4; i++)
	append(box, "<img class='top_button' src=svg/"+icons[i]+".svg />")
get("buttons_layer").appendChild(box)

// Отслеживание курсора мыши
function init() {
    if (document.layers) document.captureEvents(Event.MOUSEMOVE);
    document.onmousemove=mousemove;
}
function mousemove(event) {
    var x = y = 0;
    if (document.attachEvent != null) {
        x = window.event.clientX;
        y = window.event.clientY;
    } else {
        x = event.clientX;
        y = event.clientY;
    }
    nick.style.marginLeft = (x-256)+px
}
init()

// Отображение никнеймов и пр.
var names = [ "@atomofiron", "/ra.slav", "atomofiron", "atomofiron@yandex.ru", "atomofiron", "atomofiron" ]
function showNickname(n) {
	nick.innerHTML = names[n]
	nick.style.opacity = 1
	nick.style.animation = "show 0.3s linear"
}
function hideNickname() {
	nick.style.opacity = 0
	nick.style.animation = "hide 0.3s linear"
}

function copyNick(n) {
	window.prompt("Скопировать: Ctrl+C, Enter", names[n]);
}

// Пасхалка про агента
String.prototype.replaceAt=function(index, character) {
    return this.substr(0, index) + character + this.substr(index+character.length);
}
var dignity = get("dignity")
var developer = "Android Разработчик"
var agent = "          Агент ЦРУ"
var abc = "Android Разработчик Агент ЦРУ"
var target
var proc = false
var f = [ 7,18,15,2,9,6,13,17,1,8,3,16,10,14,4,5,11,0,12 ]
function showAgent() {
	target = agent
	if (!proc) {
		proc = true
		animAgent()
	}
}
function hideAgent() {
	target = developer
	if (!proc) {
		proc = true
		animAgent()
	}
}
function animAgent(n=0) {
	var text = dignity.innerHTML
	if (text == target) {
		proc = false
		return
	}
	var pos = f[n%19]
	if (text[pos] != target[pos]) {
		var c
		var rnd = Math.random()
		if (rnd > Math.min(0.5, (100-n)/100))
			c = target[pos]
		else
			c = abc[Math.round(rnd * abc.length)];

		text = text.replaceAt(pos, c)
		dignity.innerHTML = text
	}

	setTimeout("animAgent("+(++n)+")", 20)
}

// Прячем знак авторского права
var wait = false
function onBodyScroll() {
	if (!wait) {
		setTimeout("hideAuthor()", 3000)
		wait = true
	}
}
function hideAuthor() {
	if (window.pageYOffset > 0) {
		window.scrollTo(window.pageXOffset, window.pageYOffset-window.pageYOffset/10)
		setTimeout("hideAuthor()", 30)
	} else
		wait = false
}
</script>
</body>
</html>